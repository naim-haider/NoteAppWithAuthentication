"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[54],{2742:function(e,t,n){n.d(t,{_:function(){return o}});var r=n(1168);let{createSlice:a,createAsyncThunk:s}=n(344),o=s("fetchApiNote",async()=>{let e=await fetch("".concat(r._,"/api/notes"),{method:"GET"});return await e.json()}),i=a({name:"addNote",initialState:{isloading:!1,noteApiData:[],isError:!1},extraReducers:e=>{e.addCase(o.pending,(e,t)=>{e.isloading=!0}),e.addCase(o.fulfilled,(e,t)=>{e.isloading=!1,e.noteApiData=t.payload}),e.addCase(o.rejected,(e,t)=>{e.isError=!0})}});t.Z=i.reducer},54:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(7437),a=n(1396),s=n.n(a),o=n(345),i=n.n(o),l=n(2265),c=n(9688),d=Symbol.for("react-redux-context"),u="undefined"!=typeof globalThis?globalThis:{},m=function(){if(!l.createContext)return{};let e=u[d]??(u[d]=new Map),t=e.get(l.createContext);return t||(t=l.createContext(null),e.set(l.createContext,t)),t}();function f(e=m){return function(){return l.useContext(e)}}var h=f(),x=()=>{throw Error("uSES not initialized!")},v=(e,t)=>e===t,g=function(e=m){let t=e===m?h:f(e);return function(e,n={}){let{equalityFn:r=v,devModeChecks:a={}}="function"==typeof n?{equalityFn:n}:n,{store:s,subscription:o,getServerState:i,stabilityCheck:c,identityFunctionCheck:d}=t();l.useRef(!0);let u=l.useCallback({[e.name]:t=>e(t)}[e.name],[e,c,a.stabilityCheck]),m=x(o.addNestedSub,s.getState,i||s.getState,u,r);return l.useDebugValue(m),m}}();function j(e=m){let t=e===m?h:f(e);return function(){let{store:e}=t();return e}}Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference"),"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?l.useLayoutEffect:l.useEffect;var p=j(),N=function(e=m){let t=e===m?p:j(e);return function(){return t().dispatch}}();x=c.useSyncExternalStoreWithSelector,l.useSyncExternalStore;var S=n(2742),b=n(1168),y=n(4033),C=()=>{let e=(0,y.useRouter)(),t=localStorage.getItem("auth"),n=null==(t=JSON.parse(t))?void 0:t.user.name;return(0,r.jsx)("nav",{className:i().navContainer,children:(0,r.jsxs)("div",{className:i().navContainer2,children:[(0,r.jsxs)(s(),{className:i().userName,href:"/",children:[(0,r.jsx)("img",{src:"./notes.png"}),"NoteMe"]}),(0,r.jsx)("div",{className:i().navItems,id:"navbarNav",children:(0,r.jsxs)("ul",{className:"navbar-nav",children:[(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)("a",{className:"nav-link active userName","aria-current":"page",href:"#",children:n.toUpperCase()})}),(0,r.jsx)("li",{className:"nav-item",children:(0,r.jsx)("button",{onClick:()=>{localStorage.removeItem("auth"),e.push("/login",{scroll:!1})},className:"nav-link",href:"#",children:"Logout"})})]})})]})})},_=()=>{var e,t;let n=N(),a=g(e=>e.note.noteApiData);(0,l.useEffect)(()=>{n((0,S._)())},[]);let o=async e=>{let t=await fetch("".concat(b._,"/api/notes/")+e,{method:"DELETE"});(t=await t.json()).success?n((0,S._)()):alert("error")},c=localStorage.getItem("auth"),d=null==(c=JSON.parse(c))?void 0:null===(e=c.user)||void 0===e?void 0:e._id,u=null==c?void 0:c.token;return(0,r.jsx)(r.Fragment,{children:u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(C,{}),(0,r.jsxs)("div",{className:i().mainContainer,children:[(0,r.jsxs)("div",{className:i().container,children:[(0,r.jsxs)("h1",{children:[(0,r.jsx)("img",{src:"./notes.png"}),"Notes"]}),(0,r.jsx)(s(),{href:"/notedetail",children:(0,r.jsxs)("button",{children:[(0,r.jsx)("img",{src:"./edit.png"}),"Create Notes"]})})]}),(0,r.jsx)("div",{className:i().mainNoteContainer,children:null==a?void 0:null===(t=a.result)||void 0===t?void 0:t.map(e=>(0,r.jsx)("div",{children:e.userId===d?(0,r.jsxs)("div",{className:i().notesContainer1,children:[(0,r.jsxs)("div",{className:i().noteContainerText,children:[(0,r.jsx)("h4",{children:e.title}),(0,r.jsx)("hr",{}),(0,r.jsx)("p",{children:e.description})]}),(0,r.jsxs)("div",{className:i().notesContainerImg,children:[(0,r.jsx)("div",{className:i().date,children:e.newDate}),(0,r.jsxs)("div",{children:[(0,r.jsx)(s(),{href:"notedetail/"+e._id,children:(0,r.jsx)("img",{className:i().editImg,src:"./edit.png"})}),(0,r.jsx)("img",{className:i().deleteImg,onClick:()=>o(e._id),src:"./delete.png"})]})]})]}):null},e._id))})]})]}):(0,r.jsxs)("div",{className:i().notUserPage,children:[(0,r.jsx)("h1",{children:"Please login to write a note"}),(0,r.jsx)(s(),{href:"/login",className:i().notUserLink,children:"Go to Login page"})]})})}},1168:function(e,t,n){n.d(t,{_:function(){return r}});let r="http://localhost:3000"}}]);